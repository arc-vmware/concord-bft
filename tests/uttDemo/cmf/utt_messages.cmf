# Definition of client-server interface for the UTT Demo test application.

Msg TxRequest 3 {
    string tx
}

Msg TxReply 4 {
    bool success
    uint64 last_block_id
    string err
}

Msg GetLastBlockRequest 5 {
}

Msg GetLastBlockReply 6 {
    uint64 last_block_id
}

Msg GetBlockDataRequest 7 {
    uint64 block_id
}

Msg GetBlockDataReply 8 {
    bool success
    uint64 block_id
    string tx
}

Msg BftReply 9 {
    uint32 result
    bytes matched_data
    map uint16 bytes rsi
    optional uint16 primary
}

Msg UTTRequest 1 {
    oneof {
        TxRequest
        GetLastBlockRequest
        GetBlockDataRequest
    } request
}

Msg UTTReply 2 {
    oneof {
        TxReply
        GetLastBlockReply
        GetBlockDataReply
    } reply
}
